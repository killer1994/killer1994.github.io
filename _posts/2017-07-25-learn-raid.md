---
layout: post
title: "学习RAID"
description: ""
category: 
tags: []
---
{% include JB/setup %}

### 概念

磁盘阵列（Redundant Arrays of Independent Disks，RAID），有“独立磁盘构成的具有冗余能力的阵列”之意。

磁盘阵列是由很多价格较便宜的磁盘，组合成一个容量巨大的磁盘组，利用个别磁盘提供数据所产生加成效果提升整个磁盘系统效能。利用这项技术，将数据切割成许多区段，分别存放在各个硬盘上。
 
磁盘阵列还能利用同位检查（Parity Check）的观念，在数组中任意一个硬盘故障时，仍可读出数据，在数据重构时，将数据经计算后重新置入新硬盘中。


**RAID0**

以2块硬盘为例，就是将1个文件分散写在2个硬盘中，在读写的时候，就可以同时对2块硬盘同时读写，从而提高这个磁盘的性能和吞吐量。

优点：简单的扩展，更多的空间，更好的性能。

缺点：任何一块硬盘出现故障，将导致整个系统受到破坏，可靠性低。

**RAID1**

以2块硬盘为例，第2卡块硬盘就是第一块的备份，在损失了存储空间的情况下，提升了可靠性和性能。因为也能同时从2块硬盘中读取。

优点：有备份，提高了可靠性。

缺点：磁盘利用率低，仅为50%。RAID1主要通过2次读写来实现磁盘镜像，磁盘控制器负载大。

**RAID0+1**

结合了RAID0和RAID1的优点，即拥有了快速的读写能力，同时，对磁盘进行了备份，提高了可靠性。至少需要4个硬盘。

**RAID2**

RAID2是RAID0的改良版，以汉明码（Hamming Code）的方式将数据进行编码后分割为独立的位元，并将数据分别写入硬盘中。
因为在数据中加入了错误修正码（ECC，Error Correction Code），所以数据整体的容量会比原始数据大一些。

汉明码只能纠正一个位的错误，所以RAID 2也只能允许一个硬盘出问题，如果两个或以上的硬盘出问题，RAID 2的数据就将受到破坏。

**RAID3**

RAID3是把数据分成多个“块”，按照一定的容错算法，存放在N+1个硬盘上，实际数据占用的有效空间为N个硬盘的空间总和，而第N+1个硬盘上存储的数据是校验容错信息，当这N+1个硬盘中的其中一个硬盘出现故障时，从其它N个硬盘中的数据也可以恢复原始数据，这样，仅使用这N个硬盘也可以带伤继续工作（如采集和回放素材），当更换一个新硬盘后，系统可以重新恢复完整的校验容错信息。由于在一个硬盘阵列中，多于一个硬盘同时出现故障率的几率很小，所以一般情况下，使用RAID3，安全性是可以得到保障的。

缺点：RAID3存在的最大的一个不足,RAID3会把数据写入操作分散到多个硬盘上进行，然而不管是向哪一个数据盘写入数据，都需要同时重写校验盘中的相关信息。
因此，对于那些经常需要执行大量写入操作的应用来说，校验盘的负载将会很大，无法满足程序的运行速度，从而导致整个RAID系统性能的下降。鉴于这种原因，RAID3更加适合应用于那些写入操作较少，读取操作较多的应用环境，如数据库和web服务器等。与RAID0相比，RAID3在读写速度方面相对较慢。

使用的容错算法和分块大小决定RAID使用的应用场合，在通常情况下，RAID3比较适合大文件类型且安全性要求较高的应用，如视频编辑、硬盘播出机、大型数据库等。

RAID4

待续。。。

### 参考资料

[RAID -百度百科](http://www.baidu.com/link?url=72Wlbvje9Lv_SotAz2MJ0yGoHPHMNQjawhwrWpUiTt8SuBvUQQK2CExiF8ZQFnI1nV-_x-w6lcBfAAlOyKKrmbrgXVj2otHyc3ToGTWTeW9L7_63eJDoG0uQlhZp_9HKDEK_-PxFU--yXlxRvsbdK7aZpWHGYdhqPoRVwwk-pjS&wd=&eqid=82b250c50001c0680000000459772ec2)

[RAID2 -百度百科](https://baike.baidu.com/item/RAID%202/1875254?fr=aladdin&fromid=4728727&fromtitle=RAID2#3)
