---
layout: post
title: "编程珠玑-个人总结（补）"
description: ""
category:
tags: []
---

## 第一章 开篇

**如何给磁盘文件排序**

每条记录都是7位的正整数，再无其他相关数据，且每个整数最多只出现一次。

**输入**：一个最多包含n个正整数的文件，每个数都小于n，其中n=10,000,000。如果在输入文件中有任何整数重复出现就是致命错误。没有其他数据与该整数相关联。

**输出**：按升序排列的输入整数列表

**约束**：最多有（大约）1MB 的内存空间可用，有充足的磁盘存储空间可用。运行时间最多几分钟，运行时间为10秒就不需要进一步优化了。

<div class="solution">

**解决方案**：

如果每个号码（正整数）都使用7个字节来存储，那么在可用的1MB存储空间里大约可以存储143 000个号码。（1*1024*1024/7）

如果每个号码（正整数）都使用32位整数来表示的话，在1MB存储空间里就可以存储250 000个号码。因此，可以使用遍历输入文件40趟的程序来完成排序，第一趟遍历中，将 0 至 249 999之间的任何整数都读入内存，并对这（最多）250 000个整数进行排序，然后写到输出文件中。第二趟遍历排序 250 000 至 499 999之间的整数，以此类推，到40趟遍历的时候对9 750 000 至 9 999 999之间的整数进行排序。

使用位图或位向量表示集合，则可以分三个自然阶段来编写程序。

第一阶段，所有的位都置为 0，从而将集合初始化为空。

第二阶段，通过读入文件中的每个整数来建立集合，将每个对应的位都置为 1。即当且仅当遇到整数 i 时，将集合的第 i 位置为 1。

第三阶段，检验每一位，如果该位为 1，就输出对应的整数，生成有序的输出文件。

</div>


结论：对小问题的仔细分析有时可以得到明显的实际益处。

**正确的问题** 明确问题的重要性。

**位图数据结构** 该数据结构描述了一个有限定义域内的稠密集合，其中的每一个元素最多出现一次并且没有其他任何数据结构与该元素相关联。

**多趟算法** 这些算法多趟读入其输入数据，每次完成一步。

**时间-空间折中与双赢**

**简单的设计** keep it simple stupid。

**程序设计的阶段** 具体看12章。


## 第二章 啊哈！算法

**三个问题**

A：给定一个最多包含 40 亿个随机排列的 32 位整数的顺序文件，找出一个不在文件中的 32 位整数（在文件中至少缺失一个这样的数——为什么？）。在具有足够内存的情况下，如何解决该问题？如果有几个外部的“临时”文件可用，但是仅有几百字节的内存，又该如何解决该问题？

B：将一个 n 元一维向量向左旋转 i 个位置。例如，当 n=8 且 i=3 时，向量 `abcdefgh` 旋转为 `defghabc`。简单的代码使用一个 n 元的中间变量在 n 步内完成该工作。你能否使用数十个额外字节的存储空间，在正比于 n 的时间内完成向量的旋转？

C：给定一个英语字典，找出其中的所有变位词集合。例如，`pots`、`stop` 和 `tops` 互为变位词，因为每一个单词都可以通过改变其他单词中的字母的顺序来得到。




























